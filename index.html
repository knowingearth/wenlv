<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="shortcut icon" href="favicon.ico">
		<title>mytitle</title>
		<link href="css/base.css" rel="stylesheet" type="text/css"/>
		<link href="css/index.css" rel="stylesheet" type="text/css"/>
	</head>

	<body>
		<div id="left_menu">
			<div id="left_menu_top">
				5566
			</div>
			<div id="left_menu_content">
				<ul id="menu">
					<li>
						<div>展业管理</div>
						<ul>
							<li>首页Banner设置</li>
							<li>服饰</li>
							<li>玩具</li>
						</ul>
					</li>
					<li>
						<div>活动</div>
						<ul>
							<li>著名旅游景点</li>
							<li>户外探险</li>
							<li>Party</li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
		<div id="right_cont">
			<div id="banner">
				
				<div id="top_menu">
					<ul>
						<li>首页Banner设置</li>
						<li>说明</li>
						<li>活动</li>
					</ul>
				</div>
			</div>
		</div>
	</body>
	
	
	<script src="js/jquery-3.3.1.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		var TARGET_WIDTH = 1000;
		var gtChange = true,ltChange = true;
		var WINDOW_WIDTH = 0,WINDOW_HEIGHT = 0;
		
		
		// 监听窗口尺寸变化
		window.onresize=function(){
			WINDOW_WIDTH = $(window).width(),WINDOW_HEIGHT = $(window).height();
			// 调整左侧菜单
			changeMenu(WINDOW_WIDTH, WINDOW_HEIGHT);
			// 调整右侧内容区域大小
			//rightContWidth(WINDOW_WIDTH, WINDOW_HEIGHT)
		};
		
		// 调整左侧菜单
		function changeMenu(WinWidth,WinHeight){
			console.log(TARGET_WIDTH+">="+WinWidth+":"+(TARGET_WIDTH >= WinWidth));
			if(TARGET_WIDTH >= (WinWidth+50) && ltChange){
				$("#left_menu").addClass("position_absolute");
				$("#left_menu").animate(
					{
						width: '0px',
						opacity:'0'
					},
					"slow"
				);
				
				ltChange = false;
				gtChange = true;
				$("#top_menu").show();
			}else if(TARGET_WIDTH < (WinWidth-50) && gtChange){
				// 左侧菜单动画
				$("#left_menu").animate(
					{
						width: '230px',
						opacity:'1'
					},
					"800"
				);
				$("#left_menu").removeClass("position_absolute");
				gtChange = false;
				ltChange = true;
				$("#top_menu").hide();
			}
			
			if(ltChange){
				// 调整右侧内容区域大小
				rightContWidth((WinWidth-230), WinHeight);
			}else if(gtChange){
				// 调整右侧内容区域大小
				rightContWidth(WinWidth, WinHeight);
			}
		};
		
		// 右侧内容区域大小
		function rightContWidth(WinWidth,WinHeight){
			$("#left_menu").height(WinHeight);
			$("#right_cont").height(WinHeight).width(WinWidth);
		};
		
		// 初始化函数
		$(function(){
			WINDOW_WIDTH = $(window).width(),WINDOW_HEIGHT = $(window).height();
			changeMenu(WINDOW_WIDTH, WINDOW_HEIGHT);
			//rightContWidth(WINDOW_WIDTH,WINDOW_HEIGHT);
			
			$("#menu div").click(function(){
				$("#menu ul").hide();
				$(this).next().show();
			});
		});
	</script>
</html>
